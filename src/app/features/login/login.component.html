<div class="login">
  <h1 class="login__title">ðŸ’° Personal finance</h1>
  <p class="login__subtitle">Log in to manage your finances</p>
  <div class="login__form-wrapper">
    <form class="login__form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <!-- Email Input -->
      <div class="login__form-group">
        <span class="p-float-label">
          <input
          pInputText
          id="email"
          formControlName="email"
          class="login__form-input"
          [ngClass]="{'ng-dirty ng-invalid': loginForm.get('email')?.invalid && loginForm.get('email')?.touched}"
          />
          <label for="email">Email</label>
        </span>
        <small
        class="p-error block"
        *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
      >
        <span *ngIf="loginForm.get('email')?.errors?.['required']">
          Email is required
        </span>
        <span *ngIf="loginForm.get('email')?.errors?.['email']">
          Please enter a valid email
       </span>
      </small>
      </div>
      <!-- Password Input -->
      <div class="login__form-group">
        <span class="p-float-label">
          <p-password
            class="login__form-input"
            id="password"
            formControlName="password"
            [toggleMask]="true"
            [feedback]="false"
            [style]="{'width':'100%'}"
            [inputStyle]="{'width':'100%'}"
            [ngClass]="{'ng-dirty ng-invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}"

          ></p-password>
          <label for="password">Password</label>
        </span>
        <small
          class="p-error block"
          *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        >
          <span *ngIf="loginForm.get('password')?.errors?.['required']">
            The password is required
          </span>
          <span *ngIf="loginForm.get('password')?.errors?.['minlength']">
            The password must have at least 6 characters
          </span>
        </small>
      </div>
      <!-- Remember Me & Forgot Password -->
      <div class="login__options">
        <div class="login__remember">
          <p-checkbox
            formControlName="rememberMe"
            [binary]="true"
            inputId="rememberMe"
          ></p-checkbox>
          <label for="rememberMe" class="login__remember-label">Remember me</label>
        </div>
        <a class="login__forgot-password" (click)="onForgotPassword()">
          Did you forget your password?
        </a>
      </div>

      <!-- Login Button -->
      <div class="login__form-actions">
        <p-button
          label="Login"
          type="submit"
          [loading]="loading"
          styleClass="login__submit-btn"
          [style]="{'width':'100%'}"
        ></p-button>
      </div>
    </form>

    <!-- Divider -->
    <div class="login__divider-text">
      <span>Or continue with</span>
    </div>

    <!-- Social Login Buttons -->
    <div class="login__social">
      <div class="login__social-item">
        <p-button
          label="Google"
          icon="pi pi-google"
          severity="secondary"
          (onClick)="onGoogleLogin()"
          styleClass="login__social-btn login__social-btn--google"
        ></p-button>
      </div>
      <div class="login__social-item">
        <p-button
          label="Facebook"
          icon="pi pi-facebook"
          severity="secondary"
          (onClick)="onFacebookLogin()"
          styleClass="login__social-btn login__social-btn--facebook"
        ></p-button>
      </div>
    </div>
    <!-- Sign Up Link -->
    <div class="login__signup">
      <span class="login__signup-text">Don't you have an account?</span>
      <a
        class="login__signup-link"
        (click)="onRegister()"
      >
        Register
      </a>
    </div>
  </div>
</div>
